# Tox file for what I'm currently working on testing...
[tox]
envlist = py27, pypy
[testenv]
deps =
    unittest2
    nose
    nose-timer
    coverage
    mock
    python-snappy
    twisted
# Add '--nologcapture ' to below to get log output to the screen
commands =
#    nosetests {posargs:-v --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak/test/test_brokerclient.py afkak/test/test_client.py afkak/test/test_codec.py afkak/test/test_common.py afkak/test/test_consumer.py afkak/test/test_kafkacodec.py afkak/test/test_package.py afkak/test/test_partitioner.py afkak/test/test_protocol.py afkak/test/test_util.py afkak/test/test_producer.py
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_brokerclient:KafkaBrokerClientTestCase
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_brokerclient:KafkaBrokerClientTestCase.test_close
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_client:TestKafkaClient.test_send_fetch_request_bad_timeout
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_client:TestKafkaClient
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_codec:TestCodec
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_common:TestKafkaCommon
#   nosetests {posargs:-v -s --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_consumer:TestKafkaConsumer
#   nosetests {posargs:-v -s --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_producer:TestAfkakProducer.test_producer_send_messages_retries_exceeded
#   nosetests {posargs:-v -s --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_producer:TestAfkakProducer.test_producer_send_messages_batched_partial_success
#   nosetests {posargs:-v -s --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_producer:TestAfkakProducer
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_kafkacodec:TestKafkaCodec
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_package:TestPackage
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_partitioner
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_protocol:TestProtocol
#   nosetests {posargs:-v --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_util:UtilTest

#   nosetests --nocapture --nologcapture --with-coverage --cover-erase --cover-tests --cover-package afkak []
#   nosetests {posargs:-v -s --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_client_integration:TestKafkaClientIntegration
#   nosetests {posargs:-v -s --nologcapture --with-id --with-timer --timer-top-n 10 --with-coverage --cover-erase --cover-tests --cover-package afkak} afkak.test.test_consumer_integration:TestConsumerIntegration
#   nosetests  --nocapture --nologcapture  --with-coverage --cover-erase --cover-tests --cover-package afkak afkak.test.test_consumer_integration:TestConsumerIntegration.test_huge_messages
   nosetests --nologcapture --logging-format='%(asctime)s %(levelname)s: %(message)s' --with-id --with-timer --timer-top-n 10  --with-coverage --cover-erase --cover-tests --cover-package afkak afkak.test.test_producer_integration:TestAfkakProducerIntegration.test_producer_batched_by_time
#   nosetests --logging-format='%(asctime)s %(levelname)s: %(message)s' --with-id  --with-coverage --cover-erase --cover-tests --cover-package afkak afkak.test.test_producer_integration:TestAfkakProducerIntegration.test_acks_all_replicas
#   nosetests --logging-format='%(asctime)s %(levelname)s: %(message)s' --with-id --with-timer --timer-top-n 10  --with-coverage --cover-erase --cover-tests --cover-package afkak afkak.test.test_failover_integration:TestFailover

setenv =
    PROJECT_ROOT = {toxinidir}
